<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2>ğŸ½ï¸ Fila de Pedidos</h2>
    <a routerLink="/novo" class="btn btn-primary">Novo Pedido +</a>
  </div>

  <table class="table table-striped table-hover">
    <thead class="table-dark">
      <tr>
        <th>#</th>
        <th>Mesa</th>
        <th>Hora</th>
        <th>Obs</th>
        <th>Total</th>
        <th>Status</th>
        <th>AÃ§Ãµes</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let p of pedidos">
        <td>{{ p.idPedido }}</td>
        <td>{{ p.idMesa }}</td>
        <td>{{ p.dataHora | date:'HH:mm' }}</td>
        <td>{{ p.observacoes || '-' }}</td>
        <td>{{ p.valorTotal | currency:'BRL' }}</td>
        <td>
          <span class="badge"
                [ngClass]="{
                  'bg-warning': getStatusSlug(p.status) === 'EmPreparo',
                  'bg-info': getStatusSlug(p.status) === 'Pronto',
                  'bg-success': getStatusSlug(p.status) === 'Entregue',
                  'bg-secondary': getStatusSlug(p.status) === 'AguardandoEntrega',
                  'bg-danger': getStatusSlug(p.status) === 'Cancelado'
                }">
            {{ formatarStatus(p.status) }}
          </span>
        </td>
        <td>
          <div class="btn-group btn-group-sm">
            <button class="btn btn-outline-info" (click)="mudarStatus(p, 'Pronto')"
                    *ngIf="getStatusSlug(p.status) === 'EmPreparo'">Pronto</button>
            <button class="btn btn-outline-success" (click)="mudarStatus(p, 'Entregue')"
                    *ngIf="getStatusSlug(p.status) === 'Pronto'">Entregar</button>
            <button class="btn btn-outline-danger ms-2" (click)="excluir(p.idPedido)">ğŸ—‘ï¸</button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>
